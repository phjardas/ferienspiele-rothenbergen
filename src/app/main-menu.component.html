<nav class="navbar navbar-expand-md navbar-dark bg-primary" *ngIf="(visible | async) || user">
  <div class="container">
    <a class="navbar-brand" [routerLink]="['/']">Ferienspiele Rothenbergen</a>

    <ng-container *ngIf="user">
      <button class="navbar-toggler" type="button" (click)="expanded ? hide() : show()">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" [class.show]="expanded">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item" *ngIf="user.hasRole('office')">
            <a class="nav-link" [routerLink]="['/office']" routerLinkActive="active" (click)="hide()">Verwaltung</a>
          </li>
          <li class="nav-item" *ngIf="user.hasRole('admin')">
            <a class="nav-link" [routerLink]="['/admin']" routerLinkActive="active" (click)="hide()">Admin</a>
          </li>
        </ul>

        <ul class="navbar-nav">
          <li class="nav-item">
            <span class="navbar-text">
              <i class="fa fa-user mr-1"></i> {{user.label}}
            </span>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="" (click)="signout(); hide()">
              <small>(abmelden)</small>
            </a>
          </li>
        </ul>
      </div>
    </ng-container>
  </div>
</nav>
