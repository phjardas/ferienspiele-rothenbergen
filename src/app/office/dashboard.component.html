<spinner *ngIf="(registrations | async) === null"></spinner>

<div *ngIf="(registrations | async) !== null">
  <p>
    <span class="float-right">{{ ((registrations | async) || []).length }} Anmeldungen</span>

    <button class="btn btn-primary" (click)="export()">
      <i class="fa fa-table mr-1"></i>
      Daten herunterladen
    </button>
  </p>

  <table class="table">
    <thead>
      <tr>
        <th>Name</th>
        <th>Geschlecht</th>
        <th>Geburtsdatum</th>
        <th title="Teilnahmebeitrag erhalten">Bez.</th>
        <th title="EinverstÃ¤ndnis erhalten">Einv.</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let reg of registrations | async">
        <td>
          <a [routerLink]="[reg.id]">{{ reg.child.lastName }}, {{ reg.child.firstName }}</a>
        </td>
        <td>{{ reg.child.gender.label }}</td>
        <td>{{ reg.child.dateOfBirth | date }}</td>
        <td>
          <i class="fa fa-times mr-1" aria-hidden="true" [ngClass]="{ 'fa-check': !!reg.payment, 'fa-times': !reg.payment }"></i>
        </td>
        <td>
          <i class="fa fa-times mr-1" aria-hidden="true" [ngClass]="{ 'fa-check': !!reg.waiver, 'fa-times': !reg.waiver }"></i>
        </td>
      </tr>
    </tbody>
  </table>
</div>
